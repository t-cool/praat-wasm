<html><head><meta name="robots" content="index,follow"><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Correlation: Confidence intervals...</title>
<style>
   td { padding-left: 5pt; padding-right: 5pt; }
   th { padding-left: 5pt; padding-right: 5pt; }
   code { white-space: pre-wrap; }
   dd { white-space: pre-wrap; }
</style>
</head><body bgcolor="#FFFFFF">

<table border=0 cellpadding=0 cellspacing=0><tr><td bgcolor="#CCCC00"><table border=4 cellpadding=9><tr><td align=middle bgcolor="#000000"><font face="Palatino,Times" size=6 color="#999900"><b>
Correlation: Confidence intervals...
</b></font></table></table>
<p>Calculates <a href="confidence_interval.html">confidence interval</a>s for the correlation coefficients from the selected <a href="Correlation.html">Correlation</a> object(s) and saves these intervals in a new <a href="TableOfReal.html">TableOfReal</a> object.</p>
<h2>Settings</h2>
<dl>
<dt><b>Confidence level</b>
<dd>the <a href="confidence_level.html">confidence level</a> you want for the confidence intervals.</dd>
<dt><b>Number of tests</b>
<dd>determines the <a href="Bonferroni_correction.html">Bonferroni correction</a> for the significance level. If the default value (zero) is chosen, it will be set equal to the number of correlations involved (a matrix of dimension <i>n</i> has <i>n</i>&#183;(<i>n</i>-1)/2 correlations).</dd>
<dt><b>Approximation</b>
<dd>defines the approximation that will be used to calculate the confidence intervals. It is either Fisher's z transformation or Ruben's transformation. According to <a href="Boomsma__1977_.html">Boomsma (1977)</a>, Ruben's approximation is more accurate than Fisher's.</dd>
</dl>
<h2>Algorithm</h2>
<p>We obtain intervals by the large-sample conservative multiple tests with Bonferroni inequality and the Fisher or Ruben transformation. We put the upper values of the confidence intervals in the upper triangular part of the matrix and the lower values of the confidence intervals in lower triangular part of the resulting TableOfReal object.</p>
<p>In <i>Fisher's approximation</i>, for each element <i>r</i><sub><i>ij</i></sub> of the correlation matrix the confidence interval is:</p>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><b></b>[ tanh (<i>z</i><sub><i>ij</i></sub> - <i>z</i><sub><i>&#945;</i>&#8242;</sub> / &#8730;(<i>N</i> - 3)) , tanh (<i>z</i><sub><i>ij</i></sub> + <i>z</i><sub><i>&#945;</i>&#8242;</sub> / &#8730;(<i>N</i> - 3)) <b></b>],</table>
<p>where <i>z</i><sub><i>ij</i></sub> is the Fisher z-transform of the correlation <i>r</i><sub><i>ij</i></sub>:</p>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>z</i><sub><i>ij</i></sub> = 1/2 ln ((1 + <i>r</i><sub><i>ij</i></sub>) / (1 - <i>r</i><sub><i>ij</i></sub>)), </table>
<p><i>z</i><sub><i>&#945;</i>&#8242;</sub> the Bonferroni corrected <i>z</i>-value <i>z</i><sub><i>&#945;</i>/(2&#183;<i>numberOfTests</i>)</sub>, </p>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>&#945;</i> = 1 - <i>confidenceLevel</i>,</table>
<p>and <i>N</i> the number of observations that the correlation matrix is based on.</p>
<p>In <i>Ruben's approximation</i> the confidence interval for element <i>r</i><sub><i>ij</i></sub> is:</p>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><b></b>[ <i>x</i><sub>1</sub> / &#8730;(1 - <i>x</i><sub>1</sub><sup>2</sup>), <i>x</i><sub>2</sub> / &#8730;(1 - <i>x</i><sub>2</sub><sup>2</sup>) <b></b>]</table>
<p>in which <i>x</i><sub>1</sub> and <i>x</i><sub>2</sub> are the smallest and the largest root from</p>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>a</i> <i>x</i><sup>2</sup> + <i>b</i> <i>x</i> + <i>c</i> = 0, with</table>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>a</i> = 2<i>N</i> - 3 - <i>z</i><sub><i>&#945;</i>&#8242;</sub><sup>2</sup></table>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>b</i> = - 2 <i>r</i>&#8242; &#8730;((2<i>N</i> - 3)(2<i>N</i> - 5))</table>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>c</i> = (2<i>N</i> - 5 - <i>z</i><sub><i>&#945;</i>&#8242;</sub><sup>2</sup>) <i>r</i>&#8242;<sup>2</sup> - 2<i>z</i><sub><i>&#945;</i>&#8242;</sub><sup>2</sup>, and</table>
<table width="100%" style="white-space:pre-wrap"><tr><td align=middle><i>r</i>&#8242; = <i>r</i><sub><i>ij</i></sub> / &#8730;(1 - <i>r</i><sub><i>ij</i></sub><sup>2</sup>),</table>
<h3>Links to this page</h3>
<ul>
<li><a href="What_was_new_in_4_1_.html">What was new in 4.1?</a>
</ul>
<hr>
<address>
	<p>Â© djmw 20040407</p>
</address>
</body>
</html>
